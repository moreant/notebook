# 备忘单

记录小程序的各种奇奇怪怪的小知识



## 屏幕和图片

*  在小程序里，所有的手机屏幕的宽度都为750rpx
* 小程序会给图片增加一个默认的宽度和高度，宽度为300px，高度为225px。



## \<block>  标签

这个标签主要是说明里面包含的是一个多节点的结构块，换成<view>组件也没有太大影响，就好像<text>换成<view>没有影响一样，用不同的组件主要是为了一个区分。





## 列表渲染

`*this` 代表在 for 循环中的 item 本身，而{{item}}的item是默认的。

?> 默认数组的当前项的下标变量名默认为 `index`，数组当前项的变量名默认为 `item`；
使用 `wx:for-item` 可以指定数组当前元素的变量名，使用 `wx:for-index` 可以指定数组当前下标的变量名。



## 自定义导航栏

自定义顶部导航栏

官方默认的导航栏只能对背景颜色进行更改，对于想要在导航栏添加一些比较酷炫的效果则需要通过自定义导航栏实现。通过设置 app.json中页面配置的 navigationStyle(导航栏样式)配置项的值为 custom，即可实现自定义导航：

```json
"window":{  "navigationStyle":"custom"}
```

比如我们给小程序的页面配一个好看的壁纸，比如在home.wxss里添加以下样式：

```css
page{background-image: url(https://tcb-1251009918.cos.ap-guangzhou.myqcloud.com/background.jpg)}
```

然后在手机上预览该页面，发现小程序固有的带有页面标题的顶部导航栏就被背景图片取代了。我们也还可以在顶部导航栏原有的位置上设计一些更加酷炫的元素，这些都是可以通过前面组件的知识来实现的。





## 小程序的客服

开发者在小程序内添加客服消息按钮组件，用户就可在小程序内唤起客服会话页面，给小程序发消息。而开发者（可绑定其他运营人员）也可以直接使用[微信公众平台网页版客服工具](https://mpkf.weixin.qq.com/)或者移动端小程序客服小助手进行客服消息回复，非常的方便。

只需要在wxml文件里添加如下代码，即可唤起客服会话页面：

```html
<button open-type="contact"></button>
```

button的样式大家可以根据之前学习的css知识修改一下。

## web-view

承载网页的容器。会自动铺满整个小程序页面，**个人类型的小程序暂不支持使用。**web-view组件可**打开关联的公众号的文章**，这个对很多自媒体用户就比较友好了，公众号文章可以使用第三方的工具比如秀米、135编辑器等制作得非常精美，这些文章可以在小程序里打开啦。
```html
<web-view src="https://mp.weixin.qq.com/cgi-bin/wx"></web-view>
```

web-view的也可以绑定备案好的域名，支持JSSDK的接口，因此很有小程序为了省开发成本，点击链接打开的都是网页，并没有做小程序的原生开发，这个就不再讨论范围之内了。